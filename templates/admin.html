
{% extends "base.html" %}

{% block title %}Admin{% endblock %}

{% block content %}


<style>

.active{
    padding-left: 20px;
}

.tab-content{
    padding-left: 10px;
}

.error-message {
    margin: 10px;
    color: #db4437;
}

</style>

<body>


<ul class="nav nav-tabs">
  <li class="active"><a data-toggle="tab" href="#tab1">Home</a></li>
  <li><a data-toggle="tab" href="#tab2">Create a New User</a></li>
  <li><a data-toggle="tab" href="#tab3">Add a New Item</a></li>
  <li><a data-toggle="tab" href="#tab4">Group Items</a></li>
</ul>

<div class="tab-content">
  
    <div id="tab1" class="tab-pane fade in active">
        <h3>HOME</h3>

        <h4>Current Users (possibly to if login and last login)</h4>

        <div class="table-responsive">
            <table class="table">
                <thead>
                
                    <th>Name</th>
                    <th>Role</th>
                </thead>
                
                <tbody>
                {% for user in users %}
                <tr>
                    <td>{{ user.name }}</td>
                    <td>{{ user.role }}</td>
                <tr>
                {% endfor %}
                </tbody>

            </table>
        </div>

        <h4>NFC Tags Grouping</h4>

        
        {% for NFC in NFC %}
        <!--find a way to create a button-->
        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#idnfc" aria-expanded="false" aria-controls="collapseExample">{{ NFC }}</button>
        <div class="collapse" id="idnfc">
          
        
            <ul class="list-group">

                {% for item in items %}
                <li class="list-group-item">{{ item.name }} </li>
                {% endfor %}

            </ul>

        {% endfor %}
        </div>

</div>
    
    
        

<!-- ******************* NEW USER TAB *****************************-->  
    <div id="tab2" class="tab-pane fade">

        <h3>Create A New User</h3>
        <form role="form" method="POST" action="/admin">
        {{ form.hidden_tag() }}

        <div class="row form-group">
            {{ form.name.label }}
            {% if form.name.errors %}
                {% for error in form.name.errors %}
                <p class="error-message">{{ error }}</p>
                {% endfor %}
            {% endif %}

            <div class="form-group">
            {{ form.name(class="form-control", placeholder="Name of User")}}
            </div>
        </div>
        

        <div class="row form-group">
            {{ form.username.label }} 
            {% if form.username.errors %}
                {% for error in form.username.errors %}
                <p class="error-message">{{ error }}</p>
                {% endfor %}
            {% endif %}

            <div class="form-group">
            {{ form.username(class="form-control", placeholder="Username") }}
            </div>
        </div>
        

        <div class="row form-group">
            {{ form.password.label }}
            {% if form.password.errors %}
                {% for error in form.password.errors %}
                <p class="error-message">{{ error }}</p>
                {% endfor %}
            {% endif %}
            
            <div class="form-group">
            {{ form.password(class="form-control", placeholder="Password") }}
            </div>
        </div>
       

        <div class="row form-group">
            {{ form.role.label }} <br>
            {% for subfield in form.role %}
                <tr>
                    <td>{{ subfield }}</td>
                    <td>{{ subfield.label }}</td>
                    <br>
                </tr>
            {% endfor %}
        </div>
        <br>

        <div class="row form-group"> 
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                <ul class="error-message">
                {% for message in messages %}
                    {{ message }}
                {% endfor %}
                 </ul>
                {% endif %}
            {% endwith %}
        </div>

        {{ form.submit(class="width-35 pull-right btn btn-sm btn-primary") }}
      
    
        </form>

    </div>


        <div id="tab3" class="tab-pane fade">
            <h3>Menu 2</h3>
            <p>Some content in menu 2.</p>  
        </div>


        <div id="tab3" class="tab-pane fade">
            <h3>Menu 2</h3>
            <p>Some content in menu 2.</p>  
        </div>

</div>




</body>
{% endblock %}



<!-- function activaTab(tabId){
    $('.nav-tabs a[href="#' + tabId + '"]').tab('show');
};
 -->


